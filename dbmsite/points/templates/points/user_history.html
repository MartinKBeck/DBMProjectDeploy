{% extends "layout.html" %}
{% load static %}
{% block content %}
<head>
	<h1> Points History </h1>
</head>

<p1>Which history would you like to see?</p1>

<form method='POST'>
	{% csrf_token %}
	Requester:<br>
		<input type="text" name="requester"><br>
		<br>

  <select name="history_choice">
    <option value="points_received">Points Received</option>
    <option value="points_given">Points Given</option>
  </select>
  <br><br>
  <input type="submit">
</form>

{% if points_received %}
	<table style = "width:100%">
		<tr>
			<th>Sender</th>
			<th>Amount</th>
			<th>Transaction Date</th>
			<th>Message</th>
		</tr>
		{% for history in points_received %}
		<tr>
			<td>{{history.0}}</td>
			<td>{{history.1}}</td>
			<td>{{history.2}}</td>
			<td>{{history.3}}</td>
		</tr>
		{% endfor %}
	</table>

{% endif %}

{% if points_given %}
	<table style = "width:100%">
		<tr>
			<th>Receiver</th>
			<th>Amount</th>
			<th>Transaction Date</th>
			<th>Message</th>
		</tr>
		{% for history in points_given %}
		<tr>
			<td>{{history.0}}</td>
			<td>{{history.1}}</td>
			<td>{{history.2}}</td>
			<td>{{history.3}}</td>
		</tr>
		{% endfor %}
	</table>
{% endif %}

{{message}}

{% endblock %}